{% extends "dlf-base.html" %}
{%- set mainClasses = "govuk-main-wrapper--l" -%}


{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">Data</h1>
      <p><a href="{{ url_for('frontend.data_as_csv') }}">Download a csv file of this data</a></p>
    </div>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <table class="govuk-table">
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th>Planning authority</th>
                <th>Local plan</th>
                <th>Type</th>
                <th>Fact</th>
                <th>From</th>
                <th>To</th>
                <th>Source document</th>
                <th>Notes</th>
                <th>Created date</th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">
           {% for fact in data  %}
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">{{ fact.planning_authority }}</td>
                    <td class="govuk-table__cell">{{ fact.plan }}</td>
                    <td class="govuk-table__cell">{{ fact.fact_type }}</td>
                    <td class="govuk-table__cell">{% if not fact.from and not fact.to %}{{ fact.fact }}{% else %} - {% endif %}</td>
                    <td class="govuk-table__cell">{% if fact.from %}{{ fact.from }}{% else %} - {% endif %}</td>
                    <td class="govuk-table__cell">{% if fact.to %}{{ fact.to }}{% else %} - {% endif %}</td>
                    <td class="govuk-table__cell">{{ fact.document_url }}</td>
                    <td class="govuk-table__cell">{{ fact.notes }}</td>
                    <td class="govuk-table__cell">{{ fact.created_date }}</td>
                </tr>
           {% endfor %}
          </tbody>
      </table>
      </ul>
    </div>
  </div>

{% endblock %}

{% block bodyEnd %}
{% endblock %}


